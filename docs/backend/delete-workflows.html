<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Delete workflows · Caritas Online-Beratung</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="# Delete workflows"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Delete workflows · Caritas Online-Beratung"/><meta property="og:type" content="website"/><meta property="og:url" content="https://caritasdeutschland.github.io/documentation/"/><meta property="og:description" content="# Delete workflows"/><meta property="og:image" content="https://caritasdeutschland.github.io/documentation/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://caritasdeutschland.github.io/documentation/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/documentation/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/documentation/js/scrollSpy.js"></script><link rel="stylesheet" href="/documentation/css/main.css"/><script src="/documentation/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/documentation/"><img class="logo" src="/documentation/img/caritas_logo.svg" alt="Caritas Online-Beratung"/><h2 class="headerTitleWithLogo">Caritas Online-Beratung</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/documentation/docs/general/home" target="_self">Docs</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Delete workflows</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="delete-workflows"></a><a href="#delete-workflows" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Delete workflows</h1>
<p>Besides the possibility for each user, to delete the own account, there are two additional and automatic delete workflows you can activate in the UserService environment configuration file <code>./UserService/UserService.env</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="deletion-of-inactive-session-and-users"></a><a href="#deletion-of-inactive-session-and-users" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deletion of inactive session and users</h2>
<p>This workflow checks if there are any inactive session and deletes them automatically. Inactive session means that no more messages have been exchanged within a period of days to be configured.</p>
<p>⚠️ If a user has only one session, which was detected as inactive and deleted, <strong>the entire user account will also be deleted</strong>. The user then no longer has access to the portal and must register again for another consultation.</p>
<p><em>Parameters to set in the UserService environment configuration file <code>./UserService/UserService.env</code>:</em></p>
<table>
<thead>
<tr><th>Name</th><th>Description</th><th>Default</th></tr>
</thead>
<tbody>
<tr><td>SESSION_INACTIVE_DELETEWORKFLOW_ENABLED</td><td>Indicates whether this delete workflow is active or inactive. Permitted values: true / false</td><td>false (disabled)</td></tr>
<tr><td>SESSION_INACTIVE_DELETEWORKFLOW_CHECK_DAYS</td><td>The number of days in which no more messages must have been written for a session to be automatically deleted.</td><td>30</td></tr>
</tbody>
</table>
<p>⚠️ The workflow will be executed every night at 2:00 am.</p>
<h2><a class="anchor" aria-hidden="true" id="deletion-of-users-which-has-only-a-registration-but-no-running-session"></a><a href="#deletion-of-users-which-has-only-a-registration-but-no-running-session" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deletion of users which has only a registration, but no running session</h2>
<p>This workflow checks if there are users who have only registered but do not have an active session and deletes them. All sessions are taken into account for which no initial request was ever written.</p>
<p>⚠️ Users whose inactive sessions were deleted by the delete workflow <code>Deletion of inactive session and users</code> (see above) should be deleted by this workflow afterwards.</p>
<p><em>Parameters to set in the UserService environment configuration file <code>./UserService/UserService.env</code>:</em></p>
<table>
<thead>
<tr><th>Name</th><th>Description</th><th>Default</th></tr>
</thead>
<tbody>
<tr><td>USER_REGISTEREDONLY_DELETEWORKFLOW_ENABLED</td><td>Indicates whether this delete workflow is active or inactive. Permitted values: true / false</td><td>false (disabled)</td></tr>
<tr><td>USER_REGISTEREDONLY_DELETEWORKFLOW_CHECK_DAYS</td><td>The number of days that must have passed since registration for a user to be deleted without sessions in progress</td><td>30</td></tr>
</tbody>
</table>
<p>⚠️ The workflow will be executed every night at 3:00 am.</p>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#deletion-of-inactive-session-and-users">Deletion of inactive session and users</a></li><li><a href="#deletion-of-users-which-has-only-a-registration-but-no-running-session">Deletion of users which has only a registration, but no running session</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/documentation/" class="nav-home"><img src="/documentation/img/caritas_logo.svg" alt="Caritas Online-Beratung" width="66" height="58"/></a><div><h5>Docs</h5><a href="/documentation/docs/general/home.html">Home</a><a href="/documentation/docs/setup/setup-backend.html">Setting up Backend</a><a href="/documentation/docs/setup/setup-frontend.html">Setting up Frontend</a></div><div><h5>More</h5><a href="https://github.com/CaritasDeutschland">GitHub</a></div></section><section class="copyright">Copyright © 2021 Caritas Deutschland</section></footer></div></body></html>